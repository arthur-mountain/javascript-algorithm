# Hash Table

## ğŸ¯ è¨­è¨ˆç†å¿µ

### å­˜åœ¨æ„ç¾©

**é€™å€‹å·¥å…·è¢«ç™¼æ˜å‡ºä¾†ï¼Œæ˜¯ç‚ºäº†è§£æ±ºä»€éº¼é¡å‹çš„å•é¡Œï¼Ÿ**

| é¢å‘           | èªªæ˜                                                                                                |
| -------------- | --------------------------------------------------------------------------------------------------- |
| **ç—›é»**       | åœ¨ç„¡åºé›†åˆä¸­æŸ¥æ‰¾å…ƒç´ éœ€è¦ç·šæ€§æƒæ O(n)ï¼›å³ä½¿æ˜¯æ’åºå¾Œçš„äºŒåˆ†æœå°‹ä¹Ÿè¦ O(log n)ï¼Œè€Œä¸”æ’å…¥/åˆªé™¤æœƒç ´å£æ’åº |
| **åƒ¹å€¼ä¸»å¼µ**   | ä»¥**è¿‘ä¹å¸¸æ•¸æ™‚é–“ O(1)** å®Œæˆã€ŒæŸ¥æ‰¾ã€ã€ã€Œæ’å…¥ã€ã€ã€Œåˆªé™¤ã€ä¸‰ç¨®æ“ä½œ                                    |
| **ä¸€å¥è©±æœ¬è³ª** | é€é**æ•¸å­¸å‡½æ•¸å°‡ key ç›´æ¥æ˜ å°„åˆ°å„²å­˜ä½ç½®**ï¼Œè·³éæœå°‹éç¨‹                                             |

**æ ¸å¿ƒæ´å¯Ÿ**ï¼šå¦‚æœæˆ‘å€‘èƒ½ã€Œç®—å‡ºã€è³‡æ–™æ‡‰è©²åœ¨å“ªè£¡ï¼Œå°±ä¸éœ€è¦ã€Œæ‰¾ã€å®ƒåœ¨å“ªè£¡ã€‚

### å¿ƒæ™ºæ¨¡å‹

**é¡æ¯”ï¼šåœ–æ›¸é¤¨çš„æ›¸æ¶ç·¨è™Ÿç³»çµ±**

æƒ³åƒä¸€åº§åœ–æ›¸é¤¨ï¼š

- **å‚³çµ±æ–¹å¼**ï¼šæŠŠæ›¸éš¨ä¾¿æ”¾ï¼Œæ‰¾æ›¸æ™‚å¾ç¬¬ä¸€æ’é–‹å§‹ä¸€æœ¬æœ¬çœ‹ â†’ O(n)
- **Hash Table æ–¹å¼**ï¼šç”¨æ›¸åç®—å‡ºä¸€å€‹ç·¨è™Ÿï¼ˆä¾‹å¦‚ï¼šå–æ›¸åé¦–å­—æ¯çš„ ASCII ç¢¼ % 100ï¼‰ï¼Œç›´æ¥å»é‚£å€‹ç·¨è™Ÿçš„æ›¸æ¶æ‰¾ â†’ O(1)

| æ“ä½œ                     | åœ–æ›¸é¤¨é¡æ¯”                                                      |
| ------------------------ | --------------------------------------------------------------- |
| **hash(key)**            | ç”¨æ›¸åè¨ˆç®—æ›¸æ¶ç·¨è™Ÿ                                              |
| **put(key, value)**      | æŠŠæ›¸æ”¾åˆ°è¨ˆç®—å‡ºçš„æ›¸æ¶ä½ç½®                                        |
| **get(key)**             | ç”¨æ›¸åç®—å‡ºç·¨è™Ÿï¼Œç›´æ¥å»é‚£å€‹æ›¸æ¶å–æ›¸                              |
| **collision**            | å…©æœ¬æ›¸ç®—å‡ºåŒä¸€å€‹æ›¸æ¶ç·¨è™Ÿ                                        |
| **collision resolution** | åŒä¸€æ›¸æ¶æ”¾å¤šæœ¬æ›¸ï¼ˆchainingï¼‰æˆ–æ‰¾ä¸‹ä¸€å€‹ç©ºæ›¸æ¶ï¼ˆopen addressingï¼‰ |

**é¡æ¯”çš„å±€é™æ€§**ï¼š

- çœŸå¯¦åœ–æ›¸é¤¨çš„ç·¨è™Ÿé€šå¸¸æœ‰èªç¾©ï¼ˆæŒ‰ä¸»é¡Œåˆ†é¡ï¼‰ï¼Œä½† hash function çš„è¼¸å‡ºæ˜¯ã€Œç„¡æ„ç¾©ã€çš„æ•¸å­—åˆ†ä½ˆ
- åœ–æ›¸é¤¨ä¸æœƒã€Œresizeã€ï¼Œä½† Hash Table æœƒåœ¨è² è¼‰éé«˜æ™‚æ“´å®¹

---

## ğŸ—ï¸ æŠ½è±¡çµæ§‹

### æ ¸å¿ƒçµ„ä»¶

| çµ„ä»¶                     | åŠŸèƒ½                              | ç‚ºä»€éº¼éœ€è¦                             |
| ------------------------ | --------------------------------- | -------------------------------------- |
| **Bucket Array**         | å„²å­˜è³‡æ–™çš„åº•å±¤é™£åˆ—                | æä¾› O(1) çš„éš¨æ©Ÿå­˜å–èƒ½åŠ›               |
| **Hash Function**        | å°‡ä»»æ„ key æ˜ å°„åˆ°é™£åˆ—ç´¢å¼•         | æ±ºå®šè³‡æ–™ã€Œæ‡‰è©²æ”¾åœ¨å“ªè£¡ã€               |
| **Collision Resolution** | è™•ç†å¤šå€‹ key æ˜ å°„åˆ°åŒä¸€ä½ç½®çš„æƒ…æ³ | Hash function ä¸å¯èƒ½å®Œç¾ï¼Œç¢°æ’å¿…ç„¶ç™¼ç”Ÿ |
| **Load Factor (Î±)**      | `n / capacity`ï¼Œè¡¡é‡å¡«å……ç¨‹åº¦      | æ±ºå®šä½•æ™‚éœ€è¦ resize ä»¥ç¶­æŒæ€§èƒ½         |

### ç‹€æ…‹è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Hash Table                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Bucket Array (capacity = 8)                      â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚ â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚ 5 â”‚ 6 â”‚ 7 â”‚  â† indices   â”‚   â”‚
â”‚  â”‚ â””â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚   â”‚       â”‚           â”‚                         â”‚   â”‚
â”‚  â”‚   â–¼       â–¼           â–¼                         â”‚   â”‚
â”‚  â”‚ [A:1]   [C:3]       [F:6]     â† key:value pairs â”‚   â”‚
â”‚  â”‚   â”‚       â”‚                                      â”‚   â”‚
â”‚  â”‚   â–¼       â–¼                                      â”‚   â”‚
â”‚  â”‚ [B:2]   [D:4]                â† chained entries  â”‚   â”‚
â”‚  â”‚                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  size = 5, capacity = 8, load factor = 0.625           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œéµç‹€æ…‹å®šç¾©**ï¼š

- **size**ï¼šç•¶å‰å„²å­˜çš„ key-value pairs æ•¸é‡
- **capacity**ï¼šbucket array çš„é•·åº¦
- **load factor (Î±)**ï¼š`size / capacity`ï¼Œé€šå¸¸ç¶­æŒåœ¨ 0.7 ä»¥ä¸‹

### æ ¸å¿ƒæ“ä½œ

#### 1. hash(key)

**ç›®çš„**ï¼šå°‡ä»»æ„å‹åˆ¥çš„ key è½‰æ›ç‚º `[0, capacity-1]` ç¯„åœå…§çš„æ•´æ•¸ç´¢å¼•

**è¼¸å…¥/è¼¸å‡º**ï¼š

- Input: ä»»æ„ key
- Output: æ•´æ•¸ç´¢å¼• âˆˆ `[0, capacity-1]`

**ä¸è®Šé‡**ï¼š

- ç›¸åŒçš„ key **å¿…é ˆ**ç”¢ç”Ÿç›¸åŒçš„ hash valueï¼ˆç¢ºå®šæ€§ï¼‰
- ä¸åŒçš„ key **æ‡‰è©²ç›¡é‡**ç”¢ç”Ÿä¸åŒçš„ hash valueï¼ˆå‡å‹»åˆ†ä½ˆï¼‰

**åŸºç¤å¯¦ä½œ**ï¼š

```javascript
// æœ€ç›´è¦ºçš„å¯«æ³•ï¼šå–é¤˜æ•¸
hash(key) {
  // å‡è¨­ key æ˜¯å­—ä¸²
  let sum = 0;
  for (const char of key) {
    sum += char.charCodeAt(0);
  }
  return sum % this.capacity;
}
```

**åŸºç¤ç‰ˆæœ¬çš„å•é¡Œ**ï¼š

- **å•é¡Œ 1**ï¼š`"abc"` å’Œ `"cba"` æœƒç”¢ç”Ÿç›¸åŒçš„ hash valueï¼ˆåªåŠ ç¸½å­—å…ƒç¢¼ï¼‰
- **å•é¡Œ 2**ï¼šåˆ†ä½ˆä¸å‡å‹»ï¼ŒæŸäº› bucket æœƒç‰¹åˆ¥æ“æ“ 
- **æœ€å£æƒ…æ³**ï¼šæ‰€æœ‰ key éƒ½æ˜ å°„åˆ°åŒä¸€å€‹ bucket â†’ é€€åŒ–æˆ linked list O(n)

**å„ªåŒ–ç­–ç•¥**ï¼šå¤šé …å¼ rolling hash

- **æ ¸å¿ƒæ€æƒ³**ï¼šè®“å­—å…ƒçš„ã€Œä½ç½®ã€ä¹Ÿå½±éŸ¿ hash value

```javascript
hash(key) {
  const PRIME = 31; // è³ªæ•¸ï¼Œæ¸›å°‘ç¢°æ’
  let hash = 0;
  for (let i = 0; i < key.length; i++) {
    // æ¯å€‹å­—å…ƒä¹˜ä»¥ä¸åŒçš„æ¬Šé‡ï¼ˆ31^iï¼‰
    hash = (hash * PRIME + key.charCodeAt(i)) % this.capacity;
  }
  return hash;
}
```

**ç‚ºä»€éº¼è³ªæ•¸æœ‰æ•ˆ**ï¼š

- è³ªæ•¸æ¸›å°‘äº†ã€Œå› æ•¸é‡ç–Šã€å°è‡´çš„é€±æœŸæ€§ç¢°æ’
- 31 æ˜¯ç¶“é©—ä¸Šæ•ˆæœå¥½çš„è³ªæ•¸ï¼ˆJava String.hashCode() ä¹Ÿç”¨å®ƒï¼‰

---

#### 2. put(key, value)

**ç›®çš„**ï¼šæ’å…¥æˆ–æ›´æ–°ä¸€å€‹ key-value pair

**è¼¸å…¥/è¼¸å‡º**ï¼š

- Input: key, value
- Output: voidï¼ˆæˆ–å›å‚³èˆŠ valueï¼‰

**ä¸è®Šé‡**ï¼š

- è‹¥ key å·²å­˜åœ¨ï¼Œæ›´æ–° valueï¼›å¦å‰‡æ–°å¢ entry
- ç¶­æŒ load factor < thresholdï¼ˆé€šå¸¸ 0.75ï¼‰

**åŸºç¤å¯¦ä½œï¼ˆSeparate Chainingï¼‰**ï¼š

```javascript
put(key, value) {
  const index = this.hash(key);

  // æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨ï¼ˆéœ€è¦éæ­· chainï¼‰
  for (const entry of this.buckets[index]) {
    if (entry.key === key) {
      entry.value = value; // æ›´æ–°
      return;
    }
  }

  // ä¸å­˜åœ¨ï¼Œæ–°å¢åˆ° chain é ­éƒ¨
  this.buckets[index].unshift({ key, value });
  this.size++;

  // æª¢æŸ¥æ˜¯å¦éœ€è¦ resize
  if (this.size / this.capacity > this.loadFactorThreshold) {
    this.resize();
  }
}
```

**è¦–è¦ºåŒ– put("dog", 5)**ï¼š

```
hash("dog") = 2

Before:                      After:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚       â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
          â”‚                           â”‚
          â–¼                           â–¼
       [cat:3]                     [dog:5]
                                      â”‚
                                      â–¼
                                   [cat:3]
```

---

#### 3. get(key)

**ç›®çš„**ï¼šæ ¹æ“š key æŸ¥æ‰¾å°æ‡‰çš„ value

**è¼¸å…¥/è¼¸å‡º**ï¼š

- Input: key
- Output: value æˆ– null/undefined

**åŸºç¤å¯¦ä½œ**ï¼š

```javascript
get(key) {
  const index = this.hash(key);

  // éæ­·è©² bucket çš„ chain
  for (const entry of this.buckets[index]) {
    if (entry.key === key) {
      return entry.value;
    }
  }

  return undefined; // ä¸å­˜åœ¨
}
```

**æ™‚é–“è¤‡é›œåº¦åˆ†æ**ï¼š

- **Best case**ï¼šO(1) â€” ç›´æ¥å‘½ä¸­ï¼Œchain é•·åº¦ç‚º 1
- **Average case**ï¼šO(1 + Î±) â€” Î± æ˜¯ load factorï¼Œchain å¹³å‡é•·åº¦
- **Worst case**ï¼šO(n) â€” æ‰€æœ‰ key ç¢°æ’åˆ°åŒä¸€å€‹ bucket

---

#### 4. delete(key)

**ç›®çš„**ï¼šç§»é™¤æŒ‡å®š key çš„ entry

**è¼¸å…¥/è¼¸å‡º**ï¼š

- Input: key
- Output: è¢«ç§»é™¤çš„ value æˆ– boolean

**åŸºç¤å¯¦ä½œ**ï¼š

```javascript
delete(key) {
  const index = this.hash(key);
  const chain = this.buckets[index];

  for (let i = 0; i < chain.length; i++) {
    if (chain[i].key === key) {
      const removed = chain.splice(i, 1)[0];
      this.size--;
      return removed.value;
    }
  }

  return undefined;
}
```

---

#### 5. resize()

**ç›®çš„**ï¼šç•¶ load factor éé«˜æ™‚æ“´å®¹ï¼Œç¶­æŒ O(1) æ€§èƒ½

**æ ¸å¿ƒæŒ‘æˆ°**ï¼šæ‰€æœ‰ entry å¿…é ˆ **rehash**ï¼ˆå› ç‚º capacity æ”¹è®Šäº†ï¼‰

```javascript
resize() {
  const oldBuckets = this.buckets;
  this.capacity *= 2;
  this.buckets = Array.from({ length: this.capacity }, () => []);
  this.size = 0;

  // Rehash æ‰€æœ‰ entry
  for (const chain of oldBuckets) {
    for (const entry of chain) {
      this.put(entry.key, entry.value);
    }
  }
}
```

**è¦–è¦ºåŒ– resize**ï¼š

```
Before (capacity = 4):           After (capacity = 8):
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”               â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚               â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚ 5 â”‚ 6 â”‚ 7 â”‚
â””â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”˜               â””â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
  â”‚   â”‚   â”‚   â”‚                       â”‚               â”‚
  â–¼   â–¼   â–¼   â–¼                       â–¼               â–¼
 [A] [B] [C] [D]                     [A]             [C]
      â”‚   â”‚                           â”‚
      â–¼   â–¼                           â–¼
     [E] [F]                         [B]â”€â”€â–¶[E]
                                                      â”‚
                                      [D]â”€â”€â–¶[F] â—€â”€â”€â”€â”€â”˜
                                     (redistributed)
```

### æ ¸å¿ƒæ“ä½œè¤‡é›œåº¦ç¸½çµ

| æ“ä½œ            | å¹³å‡æ™‚é–“      | æœ€å£æ™‚é–“ | ç©ºé–“è¤‡é›œåº¦ | å‚™è¨»                 |
| --------------- | ------------- | -------- | ---------- | -------------------- |
| **æŸ¥æ‰¾**        |               |          |            |                      |
| get(key)        | **O(1)**      | O(n)     | O(1)       | æœ€å£ï¼šæ‰€æœ‰ key ç¢°æ’  |
| has(key)        | **O(1)**      | O(n)     | O(1)       | åŒ get               |
| **æ’å…¥**        |               |          |            |                      |
| put(key, value) | **O(1) æ”¤éŠ·** | O(n)     | O(1)       | å¯èƒ½è§¸ç™¼ resize      |
| **åˆªé™¤**        |               |          |            |                      |
| delete(key)     | **O(1)**      | O(n)     | O(1)       | Chaining: O(1) æ”¤éŠ·  |
| **å…§éƒ¨æ“ä½œ**    |               |          |            |                      |
| resize()        | O(n)          | O(n)     | O(n)       | éœ€ rehash æ‰€æœ‰ entry |

**ç¬¦è™Ÿå®šç¾©**ï¼š

- `n`ï¼šç•¶å‰ entry æ•¸é‡ï¼ˆsizeï¼‰
- `Î±`ï¼šload factor = n / capacity

**çµæ§‹æœ¬èº«çš„ç©ºé–“è¤‡é›œåº¦**ï¼šO(n + capacity)

---

## â­ æŠ½è±¡åŒ–ç¿»è­¯å™¨

**é€™å€‹å·¥å…·çš„æ ¸å¿ƒå°è±¡æ˜¯ï¼škey-value pairs çš„æ˜ å°„é—œä¿‚**

**å®ƒç®¡ç†çš„æ˜¯ï¼šå¾ä»»æ„ã€Œæ¨™è­˜ç¬¦ã€åˆ°å°æ‡‰ã€Œè³‡æ–™ã€çš„å¿«é€ŸæŸ¥è©¢**

### å»ºç«‹æ˜ å°„ç¶­åº¦

ç•¶ä½ çœ‹åˆ°ä¸€é“æ–°é¡Œç›®ï¼Œéœ€è¦å›ç­”ä»¥ä¸‹ä¸‰å€‹å•é¡Œï¼š

| ç¶­åº¦                   | è¦å›ç­”çš„å•é¡Œ                       | é€™å€‹ç­”æ¡ˆæ±ºå®šäº†ä»€éº¼       |
| ---------------------- | ---------------------------------- | ------------------------ |
| **ç¶­åº¦ 1ï¼šKey è­˜åˆ¥**   | å•é¡Œä¸­ã€Œä»€éº¼ã€æ‡‰è©²ä½œç‚ºå”¯ä¸€æ¨™è­˜ç¬¦ï¼Ÿ | Hash Table çš„ key å‹åˆ¥   |
| **ç¶­åº¦ 2ï¼šValue èªç¾©** | æ¯å€‹ key éœ€è¦ã€Œè¨˜ä½ã€ä»€éº¼è³‡è¨Šï¼Ÿ    | Hash Table çš„ value å‹åˆ¥ |
| **ç¶­åº¦ 3ï¼šæŸ¥è©¢æ“ä½œ**   | æˆ‘å€‘éœ€è¦å°é€™äº›è³‡è¨Šåšä»€éº¼æŸ¥è©¢ï¼Ÿ     | ä½¿ç”¨ get / has / çµ±è¨ˆ    |

### å¯¦æˆ°æª¢æŸ¥è¡¨

```plaintext
é¡Œç›®ï¼š_______________

ç¶­åº¦ 1 - Key æ˜¯ä»€éº¼ï¼š_______________
ç¶­åº¦ 2 - Value æ˜¯ä»€éº¼ï¼š_______________
ç¶­åº¦ 3 - éœ€è¦ä»€éº¼æŸ¥è©¢ï¼š_______________

å¡«å®Œå¾Œï¼Œæ ¸å¿ƒé‚è¼¯æ‡‰è©²èƒ½ç›´æ¥å¯«å‡ºã€‚
```

### æ˜ å°„ç¯„ä¾‹

**é¡Œç›® A**ï¼š[Two Sum](https://leetcode.com/problems/two-sum/) - æ‰¾å‡ºé™£åˆ—ä¸­å…©æ•¸ä¹‹å’Œç­‰æ–¼ target çš„ç´¢å¼•

| ç¶­åº¦  | å…·é«”å•é¡Œ             | æŠ½è±¡æ˜ å°„                                      |
| ----- | -------------------- | --------------------------------------------- |
| Key   | æˆ‘éœ€è¦å¿«é€ŸæŸ¥ä»€éº¼ï¼Ÿ   | **æ•¸å€¼æœ¬èº«**ï¼ˆç”¨ä¾†æŸ¥ã€Œcomplement æ˜¯å¦å­˜åœ¨ã€ï¼‰ |
| Value | æ‰¾åˆ°å¾Œéœ€è¦ä»€éº¼è³‡è¨Šï¼Ÿ | **è©²æ•¸å€¼çš„ç´¢å¼•**ï¼ˆé¡Œç›®è¦æ±‚å›å‚³ç´¢å¼•ï¼‰          |
| æŸ¥è©¢  | å°æ¯å€‹æ•¸è¦å•ä»€éº¼ï¼Ÿ   | `has(target - num)` åˆ¤æ–· complement å­˜åœ¨æ€§    |

**å¾æ˜ å°„åˆ°å¯¦ä½œçš„é—œéµæ­¥é©Ÿ**ï¼š

1. éæ­·é™£åˆ—ï¼Œå°æ¯å€‹ `num`
2. æŸ¥è©¢ `map.has(target - num)`
3. è‹¥å­˜åœ¨ï¼Œå›å‚³ `[map.get(target - num), currentIndex]`
4. è‹¥ä¸å­˜åœ¨ï¼Œ`map.set(num, currentIndex)`

---

**é¡Œç›® B**ï¼š[Group Anagrams](https://leetcode.com/problems/group-anagrams/) - æŠŠå­—æ¯çµ„æˆç›¸åŒçš„å­—ä¸²åˆ†çµ„

| ç¶­åº¦  | å…·é«”å•é¡Œ                     | æŠ½è±¡æ˜ å°„                               |
| ----- | ---------------------------- | -------------------------------------- |
| Key   | æ€æ¨£çš„å­—ä¸²æ‡‰è©²è¢«æ­¸ç‚ºåŒä¸€çµ„ï¼Ÿ | **æ’åºå¾Œçš„å­—ä¸²**ï¼ˆanagram æ’åºå¾Œç›¸åŒï¼‰ |
| Value | åŒä¸€çµ„è¦æ”¶é›†ä»€éº¼ï¼Ÿ           | **åŸå§‹å­—ä¸²çš„é™£åˆ—**                     |
| æŸ¥è©¢  | éæ­·æ™‚åšä»€éº¼æ“ä½œï¼Ÿ           | `get(sortedStr).push(original)`        |

---

## ğŸ” è§¸ç™¼å™¨ï¼ˆæ¨¡å¼è­˜åˆ¥ï¼‰

### æ­£å‘è§¸ç™¼å™¨

| å±¤ç´š           | ç‰¹å¾µ                                     | ç‚ºä»€éº¼æŒ‡å‘ Hash Table      |
| -------------- | ---------------------------------------- | -------------------------- |
| **é—œéµå­—**     | ã€Œæ‰¾å‡ºã€ã€Œæ˜¯å¦å­˜åœ¨ã€ã€Œé‡è¤‡ã€ã€Œå‡ºç¾æ¬¡æ•¸ã€ | éœ€è¦å¿«é€ŸæŸ¥è©¢å­˜åœ¨æ€§æˆ–è¨ˆæ•¸   |
| **è¤‡é›œåº¦ç´„æŸ** | é¡Œç›®æš—ç¤º O(n) æˆ–ã€Œæ¯”æ’åºæ›´å¿«ã€           | Hash Table æä¾› O(1) æŸ¥è©¢  |
| **è³‡æ–™ç‰¹å¾µ**   | ç„¡åºè³‡æ–™éœ€è¦å¿«é€Ÿå®šä½                     | ä¸éœ€è¦ç¶­è­·é †åºæ™‚çš„æœ€ä½³é¸æ“‡ |
| **æ“ä½œæ¨¡å¼**   | ã€Œé‚Šéæ­·é‚ŠæŸ¥è©¢ã€ã€Œå…©å±¤è¿´åœˆå„ªåŒ–ã€         | ç”¨ç©ºé–“æ›æ™‚é–“çš„å…¸å‹å ´æ™¯     |

**ä¸€å¥è©±è§¸ç™¼è¦å‰‡**ï¼š

> çœ‹åˆ°ã€Œéœ€è¦ O(1) æŸ¥è©¢æŸå€‹å€¼æ˜¯å¦å­˜åœ¨ / å‡ºç¾å¹¾æ¬¡ / å°æ‡‰ä»€éº¼ã€â†’ æƒ³åˆ° Hash Table

### åå‘è§¸ç™¼å™¨

| é™·é˜±æƒ…å¢ƒ          | ç‚ºä»€éº¼ä¸é©ç”¨              | æ›´å¥½çš„é¸æ“‡           |
| ----------------- | ------------------------- | -------------------- |
| éœ€è¦æœ‰åºéæ­·      | Hash Table ç„¡åº           | TreeMap / æ’åº       |
| éœ€è¦æ‰¾æœ€å¤§/æœ€å°   | Hash Table ä¸æ”¯æ´ç¯„åœæŸ¥è©¢ | Heap / TreeMap       |
| éœ€è¦ç¯„åœæŸ¥è©¢      | Hash Table åªèƒ½é»æŸ¥è©¢     | æ’åº + Binary Search |
| Key ç„¡æ³•æœ‰æ•ˆ hash | è¤‡é›œç‰©ä»¶ã€æµ®é»æ•¸          | å…¶ä»–è³‡æ–™çµæ§‹         |
| è¨˜æ†¶é«”æ¥µåº¦å—é™    | Hash Table æœ‰é¡å¤–ç©ºé–“é–‹éŠ· | åŸåœ°ç®—æ³•             |

### èˆ‡é¡ä¼¼å·¥å…·çš„æ±ºç­–é»

```plaintext
å¿«é€ŸæŸ¥è©¢å•é¡Œ
â”œâ”€â”€ åªéœ€åˆ¤æ–·å­˜åœ¨æ€§ â†’ HashSetï¼ˆkey onlyï¼‰
â”œâ”€â”€ éœ€è¦ key-value æ˜ å°„ â†’ HashMap
â”œâ”€â”€ éœ€è¦æœ‰åºéæ­· â†’ TreeMap / æ’åºé™£åˆ—
â”œâ”€â”€ éœ€è¦ç¯„åœæŸ¥è©¢ â†’ TreeMap / Segment Tree
â””â”€â”€ éœ€è¦ LRU/é »ç‡è¿½è¹¤ â†’ LinkedHashMap / è‡ªè¨‚çµæ§‹
```

---

## âš ï¸ æ³¨æ„äº‹é …

### å¸¸è¦‹é™·é˜±

| é™·é˜±             | éŒ¯èª¤å¯«æ³•                 | æ­£ç¢ºå¯«æ³•                           | ç‚ºä»€éº¼                      |
| ---------------- | ------------------------ | ---------------------------------- | --------------------------- |
| ä¿®æ”¹éæ­·ä¸­çš„ key | éæ­·æ™‚ `map.delete(key)` | å…ˆæ”¶é›†è¦åˆªé™¤çš„ keyï¼Œéæ­·å¾Œçµ±ä¸€åˆªé™¤ | å¯èƒ½å°è‡´è¿­ä»£å™¨å¤±æ•ˆ          |
| ç”¨é™£åˆ—ç•¶ key     | `map.set([1,2], val)`    | `map.set('1,2', val)` æˆ–åºåˆ—åŒ–     | JS ä¸­é™£åˆ—æ¯”è¼ƒçš„æ˜¯ reference |
| å¿½ç•¥ key ä¸å­˜åœ¨  | `map.get(key) + 1`       | `(map.get(key) \|\| 0) + 1`        | ä¸å­˜åœ¨æ™‚ get å›å‚³ undefined |
| æµ®é»æ•¸ç•¶ key     | `map.set(0.1+0.2, val)`  | ä½¿ç”¨æ•´æ•¸æˆ–å­—ä¸²                     | æµ®é»æ•¸ç²¾åº¦å•é¡Œ              |

### å¸¸è¦‹è®Šé«”

| è®Šé«”                       | ä¿®æ”¹å…§å®¹             | é©ç”¨å ´æ™¯            |
| -------------------------- | -------------------- | ------------------- |
| **HashSet**                | åªæœ‰ keyï¼Œæ²’æœ‰ value | åˆ¤æ–·å­˜åœ¨æ€§ã€å»é‡    |
| **LinkedHashMap**          | ç¶­è­·æ’å…¥é †åº         | LRU Cacheã€æœ‰åºéæ­· |
| **Counter / FrequencyMap** | value å°ˆé–€ç”¨æ–¼è¨ˆæ•¸   | çµ±è¨ˆå‡ºç¾æ¬¡æ•¸        |
| **Multi-value Map**        | value æ˜¯ list/set    | ä¸€å€‹ key å°æ‡‰å¤šå€‹å€¼ |
